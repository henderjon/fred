edit
	`setbuf` - sets up the buffer initially, by creating line zero
	`doread`
	`getlist` - get list of line nums at lin[i], increment i
		`getone` - get one line number expression
			`getnum` - get single line number component
				`optpat` - get optional pattern from lin[i], increment i; if empty use previous pattern
					`makepat`
				`patscan` - find next occurrence of pattern after line n
					`gettxt`, `match`
	`ckglob` - looks for g/.../ or x/.../; if either is found, ckglob marks the lines for processing by doglob, which does the desired command on each marked line
		`optpat`, `match`, `gettxt`, `getmark`, `putmark`, default
	`doglob`
		`getlist`, `docmd`, `getmark` - returns the mark on line n, `putmark` - places the mark m on line n for global prefix processing
	`docmd` - handle all commands except globals
		`append` - append lines after "line"
			`puttxt` - adds the new line at the end (if it fits), then calls blkmove to move it into place. puttxt also updates curln and lastln appropriately.
				`blkmove` - rearranges lines by moving the block of lines n1 through n2 to after line n3. n3 must not be between n 1 and n2
		`default` - sets defaulted line numbers to the specified values.
		`lndelete` - delete lines n1 through n2
			`blkmove`
		`ckp`
		`getone`
		`move` - move line1 through line2 after line3
			`blkmove`
		`optpat`
		`getrhs` - get right hand side of "s" command
			`makesub`
		`subst` - substitute "sub" for occurrences of pattern
		`gettxt`, `amatch`, `lndelete`, `puttxt`, `catsub`
		`getfn`
		`doread`
			`puttxt`
		`dowrite`, `doprint` - print lines n1 through n2
			`gettxt` - copies the contents of line n into the string s
	`clrbuf` - discards the scratch file, if one is used
